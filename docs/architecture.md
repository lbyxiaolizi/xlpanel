# 架构设计

XLPanel 使用「领域模型 + 服务层 + API 层」的分层结构，减少耦合并便于替换基础设施。

## 分层原则

1. **Domain**：只描述实体与规则，不依赖框架。
2. **Service**：编排业务流程，调用仓储与基础设施。
3. **Infra**：提供可替换实现（数据库、消息队列、监控等）。
4. **API**：处理输入输出，转换为领域对象。

## 典型流程

```
HTTP Handler -> Service -> Repository -> Domain
```

## 可扩展点

- 仓储可替换为数据库实现（PostgreSQL、MySQL 等）。
- 事件总线可用于驱动自动化与通知。
- 支付通道可抽象为策略实现（Stripe、PayPal、国内支付等）。
